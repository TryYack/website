{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/joduplessis/Work/Weekday/website/pages/confirm_email/[token].js\";\nimport React from \"react\";\nimport { useRouter } from 'next/router';\nimport fetch from 'isomorphic-unfetch';\n\nfunction Index(props) {\n  var router = useRouter();\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, router.query.token, \" \", props.shows.length));\n}\n\nIndex.getInitialProps =\n/*#__PURE__*/\n_asyncToGenerator(\n/*#__PURE__*/\n_regeneratorRuntime.mark(function _callee() {\n  var res, data;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return fetch('https://api.tvmaze.com/search/shows?q=batman');\n\n        case 3:\n          res = _context.sent;\n          _context.next = 6;\n          return res.json();\n\n        case 6:\n          data = _context.sent;\n          console.log(\"Show data fetched. Count: \".concat(data.length));\n          return _context.abrupt(\"return\", {\n            shows: data.map(function (entry) {\n              return entry.show;\n            })\n          });\n\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context[\"catch\"](0);\n          console.log(_context.t0);\n          return _context.abrupt(\"return\", {\n            shows: ['ed']\n          });\n\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee, null, [[0, 11]]);\n}));\nexport default Index;","map":{"version":3,"sources":["/Users/joduplessis/Work/Weekday/website/pages/confirm_email/[token].js"],"names":["useRouter","fetch","Index","props","router","query","token","shows","length","getInitialProps","res","json","data","console","log","map","entry","show"],"mappings":";;;;AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AACpB,MAAMC,MAAM,GAAGJ,SAAS,EAAxB;AAEA,SACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKI,MAAM,CAACC,KAAP,CAAaC,KAAlB,OAA0BH,KAAK,CAACI,KAAN,CAAYC,MAAtC,CADF,CADF;AAKD;;AAEDN,KAAK,CAACO,eAAN;AAAA;AAAA;AAAA;AAAA,yBAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAEFR,KAAK,CAAC,8CAAD,CAFH;;AAAA;AAEdS,UAAAA,GAFc;AAAA;AAAA,iBAGDA,GAAG,CAACC,IAAJ,EAHC;;AAAA;AAGdC,UAAAA,IAHc;AAKpBC,UAAAA,OAAO,CAACC,GAAR,qCAAyCF,IAAI,CAACJ,MAA9C;AALoB,2CAOb;AACLD,YAAAA,KAAK,EAAEK,IAAI,CAACG,GAAL,CAAS,UAAAC,KAAK;AAAA,qBAAIA,KAAK,CAACC,IAAV;AAAA,aAAd;AADF,WAPa;;AAAA;AAAA;AAAA;AAWpBJ,UAAAA,OAAO,CAACC,GAAR;AAXoB,2CAYb;AACLP,YAAAA,KAAK,EAAE,CAAC,IAAD;AADF,WAZa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB;AAkBA,eAAeL,KAAf","sourcesContent":["import { useRouter } from 'next/router';\nimport fetch from 'isomorphic-unfetch'\n\nfunction Index(props) {\n  const router = useRouter();\n\n  return (\n    <React.Fragment>\n      <h1>{router.query.token} {props.shows.length}</h1>\n    </React.Fragment>\n  );\n}\n\nIndex.getInitialProps = async function() {\n  try {\n    const res = await fetch('https://api.tvmaze.com/search/shows?q=batman');\n    const data = await res.json();\n\n    console.log(`Show data fetched. Count: ${data.length}`);\n\n    return {\n      shows: data.map(entry => entry.show)\n    };\n  } catch (e) {\n    console.log(e)\n    return {\n      shows: ['ed']\n    }\n  }\n};\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}