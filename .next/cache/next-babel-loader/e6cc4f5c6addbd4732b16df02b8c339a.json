{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/joduplessis/Work/Weekday/website/pages/confirm_email/[token].js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nimport { useRouter } from 'next/router';\nimport fetch from 'isomorphic-unfetch';\nimport { useEffect, useState } from 'react';\nimport getConfig from 'next/config';\n\nvar _getConfig = getConfig(),\n    publicRuntimeConfig = _getConfig.publicRuntimeConfig;\n\nvar API_URL = publicRuntimeConfig.API_URL;\n\nfunction Index(props) {\n  var router = useRouter();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  useEffect(function () {\n    if (!router.query.token) return;\n    setLoading(true);\n    setError(false);\n\n    try {\n      var payload = atob(router.query.token);\n\n      var _JSON$parse = JSON.parse(payload),\n          token = _JSON$parse.token,\n          email = _JSON$parse.email;\n\n      fetch(API_URL + '/auth/confirm', {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        redirect: 'follow',\n        referrer: 'no-referrer',\n        body: payload\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        setLoading(false);\n        if (!data.success) setError(true);\n      })[\"catch\"](function (e) {\n        setLoading(false);\n        setError(true);\n      });\n    } catch (e) {\n      setLoading(false);\n      setError(true);\n    }\n  }, [router.query.token]);\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(_JSXStyle, {\n    id: \"1849150560\",\n    __self: this\n  }, \"*{margin:0px;padding:0px;}.container{background:#f3f3f3;width:100%;height:100%;position:absolute;left:0px;top:0px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.inner{background:white;position:relative;height:75%;width:75%;border-radius:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.logo{position:absolute;top:40px;left:40px;z-index:1000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:auto;}.logo .text{padding-left:5px;position:relative;bottom:2px;color:#007af5;font-size:22px;font-weight:400;font-family:'hk_groteskmedium',helvetica;}h1{color:#007af5;font-size:30px;font-weight:400;font-family:'hk_groteskmedium',helvetica;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2R1cGxlc3Npcy9Xb3JrL1dlZWtkYXkvd2Vic2l0ZS9wYWdlcy9jb25maXJtX2VtYWlsL1t0b2tlbl0uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBbUR5QixBQUdzQixBQVFRLEFBYUYsQUFhQyxBQWFELEFBVUgsV0F4REYsR0F5REcsR0FwQ0csQUEwQkEsQ0FiVCxDQTFCRSxJQVBiLElBa0NZLEVBdUJNLENBakRKLEtBYUQsQUEwQkEsRUFaRSxLQTFCSyxHQWlEd0IsQ0FwQ2hDLEFBMEJJLElBWkQsTUFiTSxJQWJWLEFBdUNNLFNBdENQLE1BYUssQUEwQkcsRUF0Q0gsU0ErQ2YsS0FSNEMsaUNBZHZCLFFBZXJCLGlCQTNCcUIsRUFaQSwwQ0F5QlEsaURBWk4sRUFaQSxzREF5QkEsb0JBWkUsRUFaQSxzREF5QkosMkNBWkcsRUFaeEIsZ0RBeUJvQixrQkFDcEIsVUFiQSIsImZpbGUiOiIvVXNlcnMvam9kdXBsZXNzaXMvV29yay9XZWVrZGF5L3dlYnNpdGUvcGFnZXMvY29uZmlybV9lbWFpbC9bdG9rZW5dLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IGZldGNoIGZyb20gJ2lzb21vcnBoaWMtdW5mZXRjaCdcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBnZXRDb25maWcgZnJvbSAnbmV4dC9jb25maWcnXG5cbmNvbnN0IHsgcHVibGljUnVudGltZUNvbmZpZyB9ID0gZ2V0Q29uZmlnKClcbmNvbnN0IHsgQVBJX1VSTCB9ID0gcHVibGljUnVudGltZUNvbmZpZ1xuXG5mdW5jdGlvbiBJbmRleChwcm9wcykge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXJvdXRlci5xdWVyeS50b2tlbikgcmV0dXJuXG5cbiAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgc2V0RXJyb3IoZmFsc2UpXG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IGF0b2Iocm91dGVyLnF1ZXJ5LnRva2VuKTtcbiAgICAgIGNvbnN0IHsgdG9rZW4sIGVtYWlsIH0gPSBKU09OLnBhcnNlKHBheWxvYWQpO1xuXG4gICAgICBmZXRjaChBUElfVVJMICsgJy9hdXRoL2NvbmZpcm0nLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBtb2RlOiAnY29ycycsXG4gICAgICAgIGNhY2hlOiAnbm8tY2FjaGUnLFxuICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIHJlZGlyZWN0OiAnZm9sbG93JyxcbiAgICAgICAgcmVmZXJyZXI6ICduby1yZWZlcnJlcicsXG4gICAgICAgIGJvZHk6IHBheWxvYWQsXG4gICAgICB9KVxuICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcblxuICAgICAgICBpZiAoIWRhdGEuc3VjY2Vzcykgc2V0RXJyb3IodHJ1ZSlcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgICAgIHNldEVycm9yKHRydWUpXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgICBzZXRFcnJvcih0cnVlKVxuICAgIH1cbiAgfSwgW3JvdXRlci5xdWVyeS50b2tlbl0pXG5cbiAgcmV0dXJuIChcbiAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICA8c3R5bGUgZ2xvYmFsIGpzeD57YFxuICAgICAgICAqIHtcbiAgICAgICAgICBtYXJnaW46IDBweDtcbiAgICAgICAgICBwYWRkaW5nOiAwcHg7XG4gICAgICAgIH1cblxuICAgICAgICBib2R5IHtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jb250YWluZXIge1xuICAgICAgICAgIGJhY2tncm91bmQ6ICNmM2YzZjM7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICBsZWZ0OiAwcHg7XG4gICAgICAgICAgdG9wOiAwcHg7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5pbm5lciB7XG4gICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIGhlaWdodDogNzUlO1xuICAgICAgICAgIHdpZHRoOiA3NSU7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgYWxpZ24tY29udGVudDogY2VudGVyO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIH1cblxuICAgICAgICAubG9nbyB7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHRvcDogNDBweDtcbiAgICAgICAgICBsZWZ0OiA0MHB4O1xuICAgICAgICAgIHotaW5kZXg6IDEwMDA7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICAgICAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gICAgICAgIH1cblxuICAgICAgICAubG9nbyAudGV4dCB7XG4gICAgICAgICAgcGFkZGluZy1sZWZ0OiA1cHg7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIGJvdHRvbTogMnB4O1xuICAgICAgICAgIGNvbG9yOiAjMDA3YWY1O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMjJweDtcbiAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiAnaGtfZ3JvdGVza21lZGl1bScsIGhlbHZldGljYTtcbiAgICAgICAgfVxuXG4gICAgICAgIGgxIHtcbiAgICAgICAgICBjb2xvcjogIzAwN2FmNTtcbiAgICAgICAgICBmb250LXNpemU6IDMwcHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgICAgICBmb250LWZhbWlseTogJ2hrX2dyb3Rlc2ttZWRpdW0nLCBoZWx2ZXRpY2E7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5uZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvZ29cIj5cbiAgICAgICAgICAgIDxpbWcgc3JjPVwiLi4vc3RhdGljL2ltYWdlcy9sb2dvLnBuZ1wiIGhlaWdodD1cIjIwXCIgYWx0PVwiV2Vla2RheVwiLz5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0XCI+XG4gICAgICAgICAgICAgIHdlZWtkYXlcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAge2Vycm9yICYmICFsb2FkaW5nICYmXG4gICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgIDxwPjxpbWcgc3JjPVwiLi4vc3RhdGljL2ltYWdlcy9jb25maXJtX2VtYWlsX2NvbmZpcm1lZC5wbmdcIiBoZWlnaHQ9XCIzMFwiIC8+PC9wPlxuICAgICAgICAgICAgICA8aDE+V2hvb3BzLCBzb21ldGhpbmcgaGFzIGdvbmUgd3JvbmchPC9oMT5cbiAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgeyFlcnJvciAmJiAhbG9hZGluZyAmJlxuICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4uL3N0YXRpYy9pbWFnZXMvY29uZmlybV9lbWFpbF9jb25maXJtZWQucG5nXCIgaGVpZ2h0PVwiMzBcIi8+XG4gICAgICAgICAgICAgIDxoMT5Zb3VyIGVtYWlsIGhhcyBiZWVuIGNvbmZpcm1lZDwvaDE+XG4gICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L1JlYWN0LkZyYWdtZW50PlxuICApO1xufVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgSW5kZXg7XG4iXX0= */\\n/*@ sourceURL=/Users/joduplessis/Work/Weekday/website/pages/confirm_email/[token].js */\"), React.createElement(\"div\", {\n    className: \"jsx-1849150560\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"jsx-1849150560\" + \" \" + \"inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"jsx-1849150560\" + \" \" + \"logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"../static/images/logo.png\",\n    height: \"20\",\n    alt: \"Weekday\",\n    className: \"jsx-1849150560\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"jsx-1849150560\" + \" \" + \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \"weekday\")), error && !loading && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"jsx-1849150560\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"../static/images/confirm_email_confirmed.png\",\n    height: \"30\",\n    className: \"jsx-1849150560\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  })), React.createElement(\"h1\", {\n    className: \"jsx-1849150560\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, \"Whoops, something has gone wrong!\")), !error && !loading && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"../static/images/confirm_email_confirmed.png\",\n    height: \"30\",\n    className: \"jsx-1849150560\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    className: \"jsx-1849150560\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"Your email has been confirmed\")))));\n}\n\nexport default Index;","map":{"version":3,"sources":["/Users/joduplessis/Work/Weekday/website/pages/confirm_email/[token].js"],"names":["useRouter","fetch","useEffect","useState","getConfig","publicRuntimeConfig","API_URL","Index","props","router","error","setError","loading","setLoading","query","token","payload","atob","JSON","parse","email","method","mode","cache","credentials","headers","redirect","referrer","body","then","res","json","data","success","e"],"mappings":";;;;AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,SAAP,MAAsB,aAAtB;;iBAEgCA,SAAS,E;IAAjCC,mB,cAAAA,mB;;IACAC,O,GAAYD,mB,CAAZC,O;;AAER,SAASC,KAAT,CAAeC,KAAf,EAAsB;AACpB,MAAMC,MAAM,GAAGT,SAAS,EAAxB;;AADoB,kBAEMG,QAAQ,CAAC,KAAD,CAFd;AAAA;AAAA,MAEbO,KAFa;AAAA,MAENC,QAFM;;AAAA,mBAGUR,QAAQ,CAAC,KAAD,CAHlB;AAAA;AAAA,MAGbS,OAHa;AAAA,MAGJC,UAHI;;AAKpBX,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACO,MAAM,CAACK,KAAP,CAAaC,KAAlB,EAAyB;AAEzBF,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAF,IAAAA,QAAQ,CAAC,KAAD,CAAR;;AAEA,QAAI;AACF,UAAMK,OAAO,GAAGC,IAAI,CAACR,MAAM,CAACK,KAAP,CAAaC,KAAd,CAApB;;AADE,wBAEuBG,IAAI,CAACC,KAAL,CAAWH,OAAX,CAFvB;AAAA,UAEMD,KAFN,eAEMA,KAFN;AAAA,UAEaK,KAFb,eAEaA,KAFb;;AAIFnB,MAAAA,KAAK,CAACK,OAAO,GAAG,eAAX,EAA4B;AAC/Be,QAAAA,MAAM,EAAE,MADuB;AAE/BC,QAAAA,IAAI,EAAE,MAFyB;AAG/BC,QAAAA,KAAK,EAAE,UAHwB;AAI/BC,QAAAA,WAAW,EAAE,aAJkB;AAK/BC,QAAAA,OAAO,EAAE;AAAE,0BAAgB;AAAlB,SALsB;AAM/BC,QAAAA,QAAQ,EAAE,QANqB;AAO/BC,QAAAA,QAAQ,EAAE,aAPqB;AAQ/BC,QAAAA,IAAI,EAAEZ;AARyB,OAA5B,CAAL,CAUCa,IAVD,CAUM,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAVT,EAWCF,IAXD,CAWM,UAAAG,IAAI,EAAI;AACZnB,QAAAA,UAAU,CAAC,KAAD,CAAV;AAEA,YAAI,CAACmB,IAAI,CAACC,OAAV,EAAmBtB,QAAQ,CAAC,IAAD,CAAR;AACpB,OAfD,WAgBO,UAAAuB,CAAC,EAAI;AACVrB,QAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,OAnBD;AAoBD,KAxBD,CAwBE,OAAOuB,CAAP,EAAU;AACVrB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;AACF,GAlCQ,EAkCN,CAACF,MAAM,CAACK,KAAP,CAAaC,KAAd,CAlCM,CAAT;AAoCA,SACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+7OAkEE;AAAA,wCAAe,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAC,2BAAT;AAAqC,IAAA,MAAM,EAAC,IAA5C;AAAiD,IAAA,GAAG,EAAC,SAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAGE;AAAA,wCAAe,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHF,CADF,EASGL,KAAK,IAAI,CAACE,OAAV,IACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAK,IAAA,GAAG,EAAC,8CAAT;AAAwD,IAAA,MAAM,EAAC,IAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAFF,CAVJ,EAgBG,CAACF,KAAD,IAAU,CAACE,OAAX,IACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAC,8CAAT;AAAwD,IAAA,MAAM,EAAC,IAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAFF,CAjBJ,CADF,CAlEF,CADF;AA8FD;;AA+BD,eAAeL,KAAf","sourcesContent":["import { useRouter } from 'next/router';\nimport fetch from 'isomorphic-unfetch'\nimport { useEffect, useState } from 'react'\nimport getConfig from 'next/config'\n\nconst { publicRuntimeConfig } = getConfig()\nconst { API_URL } = publicRuntimeConfig\n\nfunction Index(props) {\n  const router = useRouter();\n  const [error, setError] = useState(false)\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    if (!router.query.token) return\n\n    setLoading(true)\n    setError(false)\n\n    try {\n      const payload = atob(router.query.token);\n      const { token, email } = JSON.parse(payload);\n\n      fetch(API_URL + '/auth/confirm', {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: { 'Content-Type': 'application/json' },\n        redirect: 'follow',\n        referrer: 'no-referrer',\n        body: payload,\n      })\n      .then(res => res.json())\n      .then(data => {\n        setLoading(false)\n\n        if (!data.success) setError(true)\n      })\n      .catch(e => {\n        setLoading(false)\n        setError(true)\n      })\n    } catch (e) {\n      setLoading(false)\n      setError(true)\n    }\n  }, [router.query.token])\n\n  return (\n    <React.Fragment>\n      <style global jsx>{`\n        * {\n          margin: 0px;\n          padding: 0px;\n        }\n\n        body {\n        }\n\n        .container {\n          background: #f3f3f3;\n          width: 100%;\n          height: 100%;\n          position: absolute;\n          left: 0px;\n          top: 0px;\n          display: flex;\n          align-items: center;\n          align-content: center;\n          justify-content: center;\n        }\n\n        .inner {\n          background: white;\n          position: relative;\n          height: 75%;\n          width: 75%;\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          align-content: center;\n          justify-content: center;\n          flex-direction: column;\n        }\n\n        .logo {\n          position: absolute;\n          top: 40px;\n          left: 40px;\n          z-index: 1000;\n          display: flex;\n          flex-direction: row;\n          justify-content: flex-start;\n          align-content: center;\n          align-items: center;\n          margin-right: auto;\n        }\n\n        .logo .text {\n          padding-left: 5px;\n          position: relative;\n          bottom: 2px;\n          color: #007af5;\n          font-size: 22px;\n          font-weight: 400;\n          font-family: 'hk_groteskmedium', helvetica;\n        }\n\n        h1 {\n          color: #007af5;\n          font-size: 30px;\n          font-weight: 400;\n          font-family: 'hk_groteskmedium', helvetica;\n        }\n      `}</style>\n      <div className=\"container\">\n        <div className=\"inner\">\n          <div className=\"logo\">\n            <img src=\"../static/images/logo.png\" height=\"20\" alt=\"Weekday\"/>\n\n            <div className=\"text\">\n              weekday\n            </div>\n          </div>\n\n          {error && !loading &&\n            <React.Fragment>\n              <p><img src=\"../static/images/confirm_email_confirmed.png\" height=\"30\" /></p>\n              <h1>Whoops, something has gone wrong!</h1>\n            </React.Fragment>\n          }\n\n          {!error && !loading &&\n            <React.Fragment>\n              <img src=\"../static/images/confirm_email_confirmed.png\" height=\"30\"/>\n              <h1>Your email has been confirmed</h1>\n            </React.Fragment>\n          }\n        </div>\n      </div>\n    </React.Fragment>\n  );\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}