{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/joduplessis/Work/Yack/website/pages/confirm.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nimport { useRouter, withRouter } from 'next/router';\nimport fetch from 'isomorphic-unfetch';\nimport { useEffect, useState } from 'react';\nimport getConfig from 'next/config';\n\nvar _ref = getConfig() || {},\n    _ref$publicRuntimeCon = _ref.publicRuntimeConfig,\n    publicRuntimeConfig = _ref$publicRuntimeCon === void 0 ? {} : _ref$publicRuntimeCon; // This doesn't work when using proces.env.variables\n\n\nvar CONFIRM_URL = publicRuntimeConfig.CONFIRM_URL;\n\nfunction Confirm(props) {\n  var router = useRouter();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  useEffect(function () {\n    setLoading(true);\n    setError(false);\n\n    try {\n      var _props$router$query = props.router.query,\n          email = _props$router$query.email,\n          token = _props$router$query.token;\n      if (!email || !token) return;\n      fetch('http://localhost:8181/v1/account/email/confirmed', {\n        method: 'PUT',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        redirect: 'follow',\n        referrer: 'no-referrer',\n        body: _JSON$stringify({\n          email: email,\n          token: token\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        console.log(data);\n        setLoading(false);\n        if (!data.success) setError(true);\n      })[\"catch\"](function (e) {\n        setLoading(false);\n        setError(true);\n      });\n    } catch (e) {\n      setLoading(false);\n      setError(true);\n    }\n  }, [props.router.query.email]);\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(_JSXStyle, {\n    id: \"1155484904\",\n    __self: this\n  }, \"*{margin:0px;padding:0px;}.container{background:#f3f3f3;width:100%;height:100%;position:absolute;left:0px;top:0px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.inner{background:white;position:relative;height:600px;width:500px;border-radius:30px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.logo{position:absolute;top:40px;left:40px;z-index:1000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:auto;}.logo .text{padding-left:5px;position:relative;bottom:2px;color:#007af5;font-size:22px;font-weight:400;font-family:'hk_groteskmedium',helvetica;}h1{color:#585858;font-size:50px;font-weight:300;margin-top:20px;text-align:center;font-family:'hk_groteskmedium',helvetica;}h2{color:#585858;font-size:20px;font-weight:400;padding-left:20px;padding-right:20px;text-align:center;margin-top:20px;font-family:'hk_groteskmedium',helvetica;}h2 a{color:#007af5;-webkit-text-decoration:none;text-decoration:none;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2R1cGxlc3Npcy9Xb3JrL1lhY2svd2Vic2l0ZS9wYWdlcy9jb25maXJtLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW9EeUIsQUFHc0IsQUFRUSxBQWFGLEFBYUMsQUFhRCxBQVVILEFBU0EsQUFXQSxXQTVFRixHQXlERyxBQVNBLEFBV00sR0F4REgsQUEwQkEsQ0FiVCxDQTFCRSxJQVBiLElBa0NZLEVBdUJNLEFBU0EsQ0ExREosS0FhQyxBQTBCRixFQVpFLEtBMUJLLEdBaURGLEFBU0UsQ0FuQkosRUExQkYsRUFjQyxVQTFCSixBQWFVLEFBMEJKLENBVUcsRUFTQyxDQVNyQixLQWxFVSxNQXVDUSxFQXRDSCxFQVlBLEFBb0M2QixHQVN4QixTQWxCd0IsU0FtQjFCLGdCQUMwQixJQVY1QyxJQXhCcUIsUUFlckIsbUJBdkNxQixFQVlBLElBK0NyQixvQ0FsQzZCLG1EQXhCTixFQVlBLG9EQWFBLHNCQXhCRSxFQVlBLG9EQWFKLDZDQXhCckIsRUFZd0IsOENBYUosa0JBQ3BCLGNBYkEiLCJmaWxlIjoiL1VzZXJzL2pvZHVwbGVzc2lzL1dvcmsvWWFjay93ZWJzaXRlL3BhZ2VzL2NvbmZpcm0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VSb3V0ZXIsIHdpdGhSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5pbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy11bmZldGNoJ1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IGdldENvbmZpZyBmcm9tICduZXh0L2NvbmZpZydcbmNvbnN0IHsgcHVibGljUnVudGltZUNvbmZpZyA9IHt9IH0gPSBnZXRDb25maWcoKSB8fCB7fVxuXG4vLyBUaGlzIGRvZXNuJ3Qgd29yayB3aGVuIHVzaW5nIHByb2Nlcy5lbnYudmFyaWFibGVzXG5jb25zdCB7IENPTkZJUk1fVVJMIH0gPSBwdWJsaWNSdW50aW1lQ29uZmlnXG5cbmZ1bmN0aW9uIENvbmZpcm0ocHJvcHMpIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0TG9hZGluZyh0cnVlKVxuICAgIHNldEVycm9yKGZhbHNlKVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcm91dGVyOiB7IHF1ZXJ5OiB7IGVtYWlsLCB0b2tlbiB9IH19ID0gcHJvcHM7XG5cbiAgICAgIGlmICghZW1haWwgfHwgIXRva2VuKSByZXR1cm5cblxuICAgICAgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODE4MS92MS9hY2NvdW50L2VtYWlsL2NvbmZpcm1lZCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICBjYWNoZTogJ25vLWNhY2hlJyxcbiAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICByZWRpcmVjdDogJ2ZvbGxvdycsXG4gICAgICAgIHJlZmVycmVyOiAnbm8tcmVmZXJyZXInLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGVtYWlsLCB0b2tlbiB9KSxcbiAgICAgIH0pXG4gICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuXG4gICAgICAgIGlmICghZGF0YS5zdWNjZXNzKSBzZXRFcnJvcih0cnVlKVxuICAgICAgfSlcbiAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgc2V0RXJyb3IodHJ1ZSlcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgIHNldEVycm9yKHRydWUpXG4gICAgfVxuICB9LCBbcHJvcHMucm91dGVyLnF1ZXJ5LmVtYWlsXSlcblxuICByZXR1cm4gKFxuICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgIDxzdHlsZSBnbG9iYWwganN4PntgXG4gICAgICAgICoge1xuICAgICAgICAgIG1hcmdpbjogMHB4O1xuICAgICAgICAgIHBhZGRpbmc6IDBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJvZHkge1xuICAgICAgICB9XG5cbiAgICAgICAgLmNvbnRhaW5lciB7XG4gICAgICAgICAgYmFja2dyb3VuZDogI2YzZjNmMztcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIGxlZnQ6IDBweDtcbiAgICAgICAgICB0b3A6IDBweDtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgYWxpZ24tY29udGVudDogY2VudGVyO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLmlubmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgaGVpZ2h0OiA2MDBweDtcbiAgICAgICAgICB3aWR0aDogNTAwcHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMzBweDtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgYWxpZ24tY29udGVudDogY2VudGVyO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIH1cblxuICAgICAgICAubG9nbyB7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHRvcDogNDBweDtcbiAgICAgICAgICBsZWZ0OiA0MHB4O1xuICAgICAgICAgIHotaW5kZXg6IDEwMDA7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICAgICAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gICAgICAgIH1cblxuICAgICAgICAubG9nbyAudGV4dCB7XG4gICAgICAgICAgcGFkZGluZy1sZWZ0OiA1cHg7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIGJvdHRvbTogMnB4O1xuICAgICAgICAgIGNvbG9yOiAjMDA3YWY1O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMjJweDtcbiAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiAnaGtfZ3JvdGVza21lZGl1bScsIGhlbHZldGljYTtcbiAgICAgICAgfVxuXG4gICAgICAgIGgxIHtcbiAgICAgICAgICBjb2xvcjogIzU4NTg1ODtcbiAgICAgICAgICBmb250LXNpemU6IDUwcHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDMwMDtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICBmb250LWZhbWlseTogJ2hrX2dyb3Rlc2ttZWRpdW0nLCBoZWx2ZXRpY2E7XG4gICAgICAgIH1cblxuICAgICAgICBoMiB7XG4gICAgICAgICAgY29sb3I6ICM1ODU4NTg7XG4gICAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgICAgcGFkZGluZy1sZWZ0OiAyMHB4O1xuICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICAgICAgZm9udC1mYW1pbHk6ICdoa19ncm90ZXNrbWVkaXVtJywgaGVsdmV0aWNhO1xuICAgICAgICB9XG5cbiAgICAgICAgaDIgYSB7XG4gICAgICAgICAgY29sb3I6ICMwMDdhZjU7XG4gICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlubmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dvXCI+XG4gICAgICAgICAgICA8aW1nIHNyYz1cIi4uL3N0YXRpYy9pbWFnZXMvbG9nby5wbmdcIiBoZWlnaHQ9XCIyMFwiIGFsdD1cIllhY2tcIi8+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dFwiPlxuICAgICAgICAgICAgICB5YWNrXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHtlcnJvciAmJiAhbG9hZGluZyAmJlxuICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgICA8cD48aW1nIHNyYz1cIi4uL3N0YXRpYy9pbWFnZXMvY29uZmlybV9lbWFpbF9lcnJvci5wbmdcIiBoZWlnaHQ9XCIyMDBcIiAvPjwvcD5cbiAgICAgICAgICAgICAgPGgxPldob29wcyE8L2gxPlxuICAgICAgICAgICAgICA8aDI+U29tZXRoaW5nIGhhcyBnb25lIHdyb25nITwvaDI+XG4gICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgIH1cblxuICAgICAgICAgIHshZXJyb3IgJiYgIWxvYWRpbmcgJiZcbiAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICAgPHA+PGltZyBzcmM9XCIuLi9zdGF0aWMvaW1hZ2VzL2NvbmZpcm1fZW1haWxfY29uZmlybWVkLnBuZ1wiIGhlaWdodD1cIjE1MFwiIC8+PC9wPlxuICAgICAgICAgICAgICA8aDE+Q29uZ3JhdHVsYXRpb25zITwvaDE+XG4gICAgICAgICAgICAgIDxoMj5UaGlzIGVtYWlsIGFkZHJlc3MgaXMgbm93IGNvbmZpcm1lZCEgUGxlYXNlIDxhIGhyZWY9XCJodHRwczovL2FwcC55YWNrLmNvXCIgdGFyZ2V0PVwiX2JsYW5rXCI+Y2xpY2sgaGVyZTwvYT4gdG8gbG9nIGluLjwvaDI+XG4gICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L1JlYWN0LkZyYWdtZW50PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoUm91dGVyKENvbmZpcm0pO1xuIl19 */\\n/*@ sourceURL=/Users/joduplessis/Work/Yack/website/pages/confirm.js */\"), React.createElement(\"div\", {\n    className: \"jsx-1155484904\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"jsx-1155484904\" + \" \" + \"inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"jsx-1155484904\" + \" \" + \"logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"../static/images/logo.png\",\n    height: \"20\",\n    alt: \"Yack\",\n    className: \"jsx-1155484904\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"jsx-1155484904\" + \" \" + \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, \"yack\")), error && !loading && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"jsx-1155484904\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"../static/images/confirm_email_error.png\",\n    height: \"200\",\n    className: \"jsx-1155484904\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  })), React.createElement(\"h1\", {\n    className: \"jsx-1155484904\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, \"Whoops!\"), React.createElement(\"h2\", {\n    className: \"jsx-1155484904\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \"Something has gone wrong!\")), !error && !loading && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"jsx-1155484904\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"../static/images/confirm_email_confirmed.png\",\n    height: \"150\",\n    className: \"jsx-1155484904\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  })), React.createElement(\"h1\", {\n    className: \"jsx-1155484904\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, \"Congratulations!\"), React.createElement(\"h2\", {\n    className: \"jsx-1155484904\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, \"This email address is now confirmed! Please \", React.createElement(\"a\", {\n    href: \"https://app.yack.co\",\n    target: \"_blank\",\n    className: \"jsx-1155484904\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, \"click here\"), \" to log in.\")))));\n}\n\nexport default withRouter(Confirm);","map":{"version":3,"sources":["/Users/joduplessis/Work/Yack/website/pages/confirm.js"],"names":["useRouter","withRouter","fetch","useEffect","useState","getConfig","publicRuntimeConfig","CONFIRM_URL","Confirm","props","router","error","setError","loading","setLoading","query","email","token","method","mode","cache","credentials","headers","redirect","referrer","body","then","res","json","data","console","log","success","e"],"mappings":"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","sourcesContent":["import { useRouter, withRouter } from 'next/router';\nimport fetch from 'isomorphic-unfetch'\nimport { useEffect, useState } from 'react'\nimport getConfig from 'next/config'\nconst { publicRuntimeConfig = {} } = getConfig() || {}\n\n// This doesn't work when using proces.env.variables\nconst { CONFIRM_URL } = publicRuntimeConfig\n\nfunction Confirm(props) {\n  const router = useRouter();\n  const [error, setError] = useState(false)\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    setLoading(true)\n    setError(false)\n\n    try {\n      const { router: { query: { email, token } }} = props;\n\n      if (!email || !token) return\n\n      fetch('http://localhost:8181/v1/account/email/confirmed', {\n        method: 'PUT',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: { 'Content-Type': 'application/json' },\n        redirect: 'follow',\n        referrer: 'no-referrer',\n        body: JSON.stringify({ email, token }),\n      })\n      .then(res => res.json())\n      .then(data => {\n        console.log(data)\n        setLoading(false)\n\n        if (!data.success) setError(true)\n      })\n      .catch(e => {\n        setLoading(false)\n        setError(true)\n      })\n    } catch (e) {\n      setLoading(false)\n      setError(true)\n    }\n  }, [props.router.query.email])\n\n  return (\n    <React.Fragment>\n      <style global jsx>{`\n        * {\n          margin: 0px;\n          padding: 0px;\n        }\n\n        body {\n        }\n\n        .container {\n          background: #f3f3f3;\n          width: 100%;\n          height: 100%;\n          position: absolute;\n          left: 0px;\n          top: 0px;\n          display: flex;\n          align-items: center;\n          align-content: center;\n          justify-content: center;\n        }\n\n        .inner {\n          background: white;\n          position: relative;\n          height: 600px;\n          width: 500px;\n          border-radius: 30px;\n          display: flex;\n          align-items: center;\n          align-content: center;\n          justify-content: center;\n          flex-direction: column;\n        }\n\n        .logo {\n          position: absolute;\n          top: 40px;\n          left: 40px;\n          z-index: 1000;\n          display: flex;\n          flex-direction: row;\n          justify-content: flex-start;\n          align-content: center;\n          align-items: center;\n          margin-right: auto;\n        }\n\n        .logo .text {\n          padding-left: 5px;\n          position: relative;\n          bottom: 2px;\n          color: #007af5;\n          font-size: 22px;\n          font-weight: 400;\n          font-family: 'hk_groteskmedium', helvetica;\n        }\n\n        h1 {\n          color: #585858;\n          font-size: 50px;\n          font-weight: 300;\n          margin-top: 20px;\n          text-align: center;\n          font-family: 'hk_groteskmedium', helvetica;\n        }\n\n        h2 {\n          color: #585858;\n          font-size: 20px;\n          font-weight: 400;\n          padding-left: 20px;\n          padding-right: 20px;\n          text-align: center;\n          margin-top: 20px;\n          font-family: 'hk_groteskmedium', helvetica;\n        }\n\n        h2 a {\n          color: #007af5;\n          text-decoration: none;\n        }\n      `}</style>\n      <div className=\"container\">\n        <div className=\"inner\">\n          <div className=\"logo\">\n            <img src=\"../static/images/logo.png\" height=\"20\" alt=\"Yack\"/>\n\n            <div className=\"text\">\n              yack\n            </div>\n          </div>\n\n          {error && !loading &&\n            <React.Fragment>\n              <p><img src=\"../static/images/confirm_email_error.png\" height=\"200\" /></p>\n              <h1>Whoops!</h1>\n              <h2>Something has gone wrong!</h2>\n            </React.Fragment>\n          }\n\n          {!error && !loading &&\n            <React.Fragment>\n              <p><img src=\"../static/images/confirm_email_confirmed.png\" height=\"150\" /></p>\n              <h1>Congratulations!</h1>\n              <h2>This email address is now confirmed! Please <a href=\"https://app.yack.co\" target=\"_blank\">click here</a> to log in.</h2>\n            </React.Fragment>\n          }\n        </div>\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default withRouter(Confirm);\n"]},"metadata":{},"sourceType":"module"}