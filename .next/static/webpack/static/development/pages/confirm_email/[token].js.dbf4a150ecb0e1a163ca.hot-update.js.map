{"version":3,"file":"static/webpack/static/development/pages/confirm_email/[token].js.dbf4a150ecb0e1a163ca.hot-update.js","sources":["webpack:///./pages/confirm_email/[token].js"],"sourcesContent":["import { useRouter } from 'next/router';\nimport fetch from 'isomorphic-unfetch'\nimport { useEffect, useState } from 'react'\n\nfunction Index(props) {\n  const router = useRouter();\n  const [error, setError] = useState(false)\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    setLoading(true)\n    setError(false)\n\n    if (!router.query.token) return\n\n    const payload = atob(router.query.token);\n\n    console.log(payload)\n\n\n    const { token, email } = JSON.parse(payload);\n\n    fetch('http://localhost:8181/api/v1/auth/confirm', {\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      credentials: 'same-origin',\n      headers: { 'Content-Type': 'application/json' },\n      redirect: 'follow',\n      referrer: 'no-referrer',\n      body: payload,\n    })\n    then(res => res.json())\n    then(data => {\n      console.log(data)\n      setLoading(false)\n\n      if (!data.success) setError(true)\n    })\n    .catch(e => {\n      setLoading(false)\n      setError(true)\n    })\n  }, [router.query.token])\n\n  return (\n    <React.Fragment>\n      <h1>{router.query.token}</h1>\n    </React.Fragment>\n  );\n}\n\nexport default Index;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AATA;AAAA;AAAA;AACA;AAYA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AARA;AAUA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;A","sourceRoot":""}