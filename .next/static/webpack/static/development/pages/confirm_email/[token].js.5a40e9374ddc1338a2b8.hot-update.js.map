{"version":3,"file":"static/webpack/static/development/pages/confirm_email/[token].js.5a40e9374ddc1338a2b8.hot-update.js","sources":["webpack:///./pages/confirm_email/[token].js"],"sourcesContent":["import { useRouter } from 'next/router';\nimport fetch from 'isomorphic-unfetch'\nimport { useEffect, useState } from 'react'\n\nfunction Index(props) {\n  const router = useRouter();\n  const [error, setError] = useState(false)\n  const [loading, setLoading] = useState(false)\n\n  useEffect((async () => {\n    try {\n      setLoading(true)\n      setError(false)\n\n      const payload = btoa(router.query.token);\n      const { token, email } = JSON.parse(payload);\n      const res = await fetch('http://localhost:8181/api/v1/auth/confirm', {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: { 'Content-Type': 'application/json' },\n        redirect: 'follow',\n        referrer: 'no-referrer',\n        body: payload,\n      });\n      const data = await res.json();\n\n      setLoading(false)\n\n      console.log(token, email)\n\n      if (!data.success) setError(true)\n    } catch (e) {\n      setLoading(false)\n      setError(true)\n    }\n  })(), [])\n\n  return (\n    <React.Fragment>\n      <h1>{router.query.token}</h1>\n    </React.Fragment>\n  );\n}\n\nexport default Index;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AALA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AARA;AACA;AARA;AAOA;AAPA;AAAA;AACA;AADA;AAiBA;AAEA;AAEA;AAEA;AAvBA;AAAA;AACA;AADA;AAAA;AAAA;AAyBA;AACA;AACA;AA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8BA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;A","sourceRoot":""}